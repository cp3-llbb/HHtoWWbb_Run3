tree: Events
eras:
  "2022":
    luminosity: 7875 # pb^-1
  # "2022C":
  #   luminosity: 4953 # pb^-1
  # "2022D":
  #   luminosity: 2922 # pb^-1
  "2022EE":
    luminosity: 20665 # pb^-1
  # "2022F":
  #   luminosity: 18423 # pb^-1
  # "2022G":
  #   luminosity: 3247 # pb^-1
  "2022all":
    luminosity: 28540 # 7875 + 20665 pb^-1
dbcache: dascache
samples:

  GluGluToHHTo2B2VTo2L2Nu_node_SM:
    era: "2022all"
    type: signal
    db: das:/GluGluToHHTo2B2VTo2L2Nu_node_SM_TuneCP5_PSWeights_13TeV-madgraph-pythia8/RunIIAutumn18NanoAODv7-Nano02Apr2020_102X_upgrade2018_realistic_v21-v1/NANOAODSIM
    cross-section: 1
    branching-ratio: 0.027669886574221
    generated-events: genEventSumw
    legend: 'HH#rightarrow bbl#nu l#nu'
    split: 9

  GluGluToHHTo2B2WToLNu2J_node_SM:
    era: "2022all"
    type: signal
    db: das:/GluGluToHHTo2B2WToLNu2J_node_SM_TuneCP5_PSWeights_13TeV-madgraph-pythia8/RunIIAutumn18NanoAODv7-Nano02Apr2020_102X_upgrade2018_realistic_v21-v1/NANOAODSIM
    cross-section: 1
    branching-ratio: 0.109369082142029
    generated-events: genEventSumw
    legend: 'HH#rightarrow bbqql#nu'
    # line-color: 4
    split: 6

  Muon_C:
    era: "2022"
    type: data
    group: "data"
    db: das:/Muon/Run2022C-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [355794, 357486]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 80

  Muon_D:
    era: "2022"
    type: data
    group: "data"
    db: ['das:/Muon/Run2022D-PromptNanoAODv10_v1-v1/NANOAOD', 'das:/Muon/Run2022D-PromptNanoAODv10_v2-v1/NANOAOD']
    run_range: [357487, 358219]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 48
    
  Muon_F:
    era: "2022EE"
    type: data
    group: "data"
    db: das:/Muon/Run2022F-PromptNanoAODv10_v1-v2/NANOAOD
    run_range: [360332, 362180]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 256

  Muon_G:
    era: "2022EE"
    type: data
    group: "data"
    db: das:/Muon/Run2022G-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [362181, 362760]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 56

  EGamma_C:
    era: "2022"
    type: data
    group: "data"
    db: das:/EGamma/Run2022C-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [355794, 357486]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 164

  EGamma_D:
    era: "2022"
    type: data
    group: "data"
    db: ['das:/EGamma/Run2022D-PromptNanoAODv10_v1-v1/NANOAOD','das:/EGamma/Run2022D-PromptNanoAODv10_v2-v1/NANOAOD']
    run_range: [357487, 358219]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 59

  EGamma_F:
    era: "2022EE"
    type: data
    group: "data"
    db: das:/EGamma/Run2022F-PromptNanoAODv10_v1-v2/NANOAOD
    run_range: [360332, 362180]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 349

  EGamma_G:
    era: "2022EE"
    type: data
    group: "data"
    db: das:/EGamma/Run2022G-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [362181, 362760]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 57

  MuonEG_C:
    era: "2022"
    type: data
    group: "data"
    db: das:/MuonEG/Run2022C-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [355794, 357486]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 33

  MuonEG_D:
    era: "2022"
    type: data
    group: "data"
    db: ['das:/MuonEG/Run2022D-PromptNanoAODv10_v1-v1/NANOAOD', 'das:/MuonEG/Run2022D-PromptNanoAODv10_v2-v1/NANOAOD']
    run_range: [357487, 358219]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 7

  MuonEG_F:
    era: "2022EE"
    type: data
    group: "data"
    db: das:/MuonEG/Run2022F-PromptNanoAODv10_v1-v2/NANOAOD
    run_range: [360332, 362180]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 99

  MuonEG_G:
    era: "2022EE"
    type: data
    group: "data"
    db: das:/MuonEG/Run2022G-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [362181, 362760]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 22

  DoubleMuon:
    era: "2022"
    type: data
    group: "data"
    db: das:/DoubleMuon/Run2022C-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [355794, 357486]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 4

  SingleMuon:
    era: "2022"
    type: data
    group: "data"
    db: das:/SingleMuon/Run2022C-PromptNanoAODv10_v1-v1/NANOAOD
    run_range: [355794, 357486]
    certified_lumi_file: https://cms-service-dqmdc.web.cern.ch/CAF/certification/Collisions22/Cert_Collisions2022_355100_362760_Golden.json
    split: 14

  # bkg #
  TTto2L2Nu:
    era: "2022"
    group: "TTbar"
    db: das:/TTto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 98.02 # 923.6*(BR)
    generated-events: genEventSumw
    split: 22

  TTto2L2Nu_EE:
    era: "2022EE"
    group: "TTbar"
    db: das:/TTto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 98.02 
    generated-events: genEventSumw
    split: 70
  
  TTtoLNu2Q:
    era: "2022"
    group: "TTbar"
    db: das:/TTtoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 405.70 # 923.6*(BR)
    generated-events: genEventSumw
    split: 67

  TTtoLNu2Q_EE:
    era: "2022EE"
    group: "TTbar"
    db: das:/TTtoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 405.70
    generated-events: genEventSumw
    split: 218

  DY:
    era: "2022"
    group: "DY"
    db: das:/DYJetsToLL_M-50_TuneCP5_13p6TeV-madgraphMLM-pythia8/Run3Summer22NanoAODv11-forPOG_126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 5659
    generated-events: genEventSumw
    split: 18

  DY_EE:
    era: "2022EE"
    group: "DY"
    db: das:/DYJetsToLL_M-50_TuneCP5_13p6TeV-madgraphMLM-pythia8/Run3Summer22EENanoAODv11-forPOG_126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 5666
    generated-events: genEventSumw
    split: 55

  DY10to50:
    era: "2022"
    group: "DY"
    db: das:/DYto2L-2Jets_MLL-10to50_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 21270
    generated-events: genEventSumw
    split: 39

  DY10to50_EE:
    era: "2022EE"
    group: "DY"
    db: das:/DYto2L-2Jets_MLL-10to50_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 2.119e+04
    generated-events: genEventSumw
    split: 110

  WW:
    era: "2022"
    group: "VV"
    db: das:/WW_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v2/NANOAODSIM
    type: mc
    cross-section: 80.18
    generated-events: genEventSumw
    split: 11

  WW_EE:
    era: "2022EE"
    group: "VV"
    db: das:/WW_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v2/NANOAODSIM
    type: mc
    cross-section: 80.26
    generated-events: genEventSumw
    split: 11

  WZ:
    era: "2022"
    group: "VV"
    db: das:/WZ_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 29.1
    generated-events: genEventSumw
    split: 6

  WZ_EE:
    era: "2022EE"
    group: "VV"
    db: das:/WZ_TuneCP5_13p6TeV_pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 29.1
    generated-events: genEventSumw
    split: 18

  WJets:
    era: "2022"
    group: WJets
    db: das:/WtoLNu-2Jets_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 68160
    generated-events: genEventSumw
    split: 45

  WJets_EE:
    era: "2022EE"
    group: WJets
    db: das:/WtoLNu-2Jets_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 69080
    generated-events: genEventSumw
    split: 161

  ZZ:
    era: "2022"
    group: "VV"
    db: das:/ZZ_TuneCP5_13p6TeV_pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 12.75
    generated-events: genEventSumw
    split: 2

  ZZ_EE:
    era: "2022EE"
    group: "VV"
    db: das:/ZZ_TuneCP5_13p6TeV_pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v2/NANOAODSIM
    type: mc
    cross-section: 12.75
    generated-events: genEventSumw
    split: 5

  # TW cross section from: https://cms-talk.web.cern.ch/t/new-jecs-for-run3-prompt-fg-eras/26529
  TbarWplusto2l2nu:
    era: "2022"
    group: "TW"
    db: das:/TbarWplusto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 4.668 # xsec(TW) / 2 (since t and tbar is included) x BR(W->l nu)^2 x 2 (since there are two W bosons) = 87.9 / 2 x 0.3259^2 x 2
    generated-events: genEventSumw
    split: 3

  TbarWplusto2l2nu_EE:
    era: "2022EE"
    group: "TW"
    db: das:/TbarWplusto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 4.668
    generated-events: genEventSumw
    split: 8

  TbarWplustoLNu2Q:
    era: "2022"
    group: "TW"
    db: das:/TbarWplustoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 19.31 # xsec(TW) / 2 (since t and tbar is included) x BR(W->l nu) x BR(W->qq) x 2 (since there are two W bosons) = 87.9 / 2 x 0.3259 x 0.6741 
    generated-events: genEventSumw
    split: 6

  TbarWplustoLNu2Q_EE:
    era: "2022EE"
    group: "TW"
    db: das:/TbarWplustoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 19.31
    generated-events: genEventSumw
    split: 15

  TWminusto2l2nu:
    era: "2022"
    group: "TW"
    db: das:/TWminusto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 4.668
    generated-events: genEventSumw
    split: 4

  TWminusto2l2nu_EE:
    era: "2022EE"
    group: "TW"
    db: das:/TWminusto2L2Nu_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 4.668
    generated-events: genEventSumw
    split: 8

  TWminustoLNu2Q:
    era: "2022"
    group: "TW"
    db: das:/TWminustoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22NanoAODv11-126X_mcRun3_2022_realistic_v2-v1/NANOAODSIM
    type: mc
    cross-section: 19.31
    generated-events: genEventSumw
    split: 6

  TWminustoLNu2Q_EE:
    era: "2022EE"
    group: "TW"
    db: das:/TWminustoLNu2Q_TuneCP5_13p6TeV_powheg-pythia8/Run3Summer22EENanoAODv11-126X_mcRun3_2022_realistic_postEE_v1-v1/NANOAODSIM
    type: mc
    cross-section: 19.31
    generated-events: genEventSumw
    split: 15

plotIt:
  configuration:
    width: 800
    height: 600
    margin-left: 0.2
    margin-right: 0.03
    margin-top: 0.05
    margin-bottom: 0.15
    luminosity-label: '%1$.2f fb^{-1} (13.6 TeV)'
    experiment: CMS
    extra-label: Run 3 (2022) - Work in progress
    error-fill-style: 3154
    error-fill-color: "#ee556270"
    ratio-fit-error-fill-style: 1001
    ratio-fit-error-fill-color: "#aa556270"
    ratio-fit-line-color: "#0B486B"
    yields-table-align: h
  legend:
    position: [0.7, 0.6, 0.91, 0.91]
  groups:
    data:
      legend: data
    TTbar:
      legend: TTbar
      fill-color: "#99ccff"
    DY:
      legend: DY
      fill-color: "#9FFF33"
    WJets:
      legend: WJets
      fill-color: "#FFC300"
    VV:
      legend: VV
      fill-color: "#C900FF"
    TW:
      legend: TW
      fill-color: "#FF0000"
  plotdefaults:
    normalized: False
    y-axis: Events
    log-y: both
    y-axis-show-zero: True
    save-extensions: [pdf]
    show-ratio: True
    sort-by-yields: True
    legend-columns: 2
    ratio-y-axis: '#frac{Data}{MC}'
    ratio-y-axis-range: [0.8, 1.2]
    show-overflow: True